return {
  'L3MON4D3/LuaSnip', -- snippet engine
  config = function()
    local ls = require 'luasnip'

    ls.config.set_config {
      enable_autosnippets = true,
      history = true,
      updateevents = 'TextChanged,TextChangedI',
    }
    local home = vim.fn.stdpath 'config' .. '/lua/snippets'

    require('luasnip.loaders.from_lua').lazy_load {
      paths = { vim.fn.stdpath 'config' .. '/lua/snippets' },
    }

    vim.keymap.set({ 'i' }, '<S-CR>', function()
      ls.expand()
    end, { silent = true })

    --
    vim.keymap.set({ 'i', 's' }, '<Tab>', function()
      ls.jump(1)
    end, { silent = true })

    -- Jump backwards within a snippet
    vim.keymap.set({ 'i', 's' }, '<S-Tab>', function()
      ls.jump(-1)
    end, { silent = true })
  end,
}
